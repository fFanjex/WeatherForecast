<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>WeatherForecast ‚Ä¢ –ü–æ–∏—Å–∫</title>
    <link rel="stylesheet" href="/weather.css">
</head>
<body>
<div class="bg"></div>
<div class="noise"></div>

<header class="header">
    <div class="container header-inner">
        <a href="/home" class="chip">
            <span class="chip-ico">‚¨ÖÔ∏è</span>
            <span>–ù–∞ –≥–ª–∞–≤–Ω—É—é</span>
        </a>

        <div class="brand">
            <div class="logo" aria-hidden="true">WF</div>
            <div class="brand-text">
                <div class="brand-title" id="animated-title">
                    <span>W</span><span>e</span><span>a</span><span>t</span><span>h</span><span>e</span><span>r</span>
                    <span>F</span><span>o</span><span>r</span><span>e</span><span>c</span><span>a</span><span>s</span><span>t</span>
                </div>
                <div class="brand-subtitle">–ü–æ–∏—Å–∫ –ø–æ–≥–æ–¥—ã –∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤</div>
            </div>
        </div>

        <form th:action="@{/logout}" method="post" class="logout-form">
            <button type="submit" class="chip danger">
                <span class="chip-ico">üö™</span>
                <span>–í—ã–π—Ç–∏</span>
            </button>
        </form>
    </div>
</header>

<main class="main">
    <div class="container grid">
        <section class="card hero">
            <div class="hero-head">
                <div class="badge">‚õÖ Weather</div>
                <div>
                    <h1 class="hero-title">–ü–æ–≥–æ–¥–∞ –≤ –≥–æ—Ä–æ–¥–µ</h1>
                    <p class="hero-subtitle">–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º.</p>
                </div>
            </div>

            <form method="get" id="weather-form" class="form">
                <div class="field">
                    <label for="city-input">–ì–æ—Ä–æ–¥</label>
                    <div class="control">
                        <span class="icon" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none">
                                <path d="M12 22s7-4.5 7-12a7 7 0 1 0-14 0c0 7.5 7 12 7 12Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                                <path d="M12 11a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </span>
                        <input type="text" name="city" id="city-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Berlin" required autocomplete="off">
                        <button type="button" id="clear-btn" class="clear" aria-label="–û—á–∏—Å—Ç–∏—Ç—å">&times;</button>
                    </div>
                    <div id="input-hint" class="hint">–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º</div>
                </div>

                <div class="actions">
                    <button formaction="/weather" type="submit" class="btn primary">
                        <span class="btn-ico">‚òÅÔ∏è</span>
                        <span>–£–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É</span>
                    </button>
                    <button formaction="/weather/forecast" type="submit" class="btn info">
                        <span class="btn-ico">üìÖ</span>
                        <span>–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 5 –¥–Ω–µ–π</span>
                    </button>
                </div>
            </form>

            <form action="/weather/saved/data" method="get" class="saved">
                <button type="submit" class="btn ghost">
                    <span class="btn-ico">üìç</span>
                    <span>–ü–æ–≥–æ–¥–∞ –≤ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–º –≥–æ—Ä–æ–¥–µ</span>
                </button>
            </form>
        </section>

        <section class="card side">
            <h2 class="side-title">–ë—ã—Å—Ç—Ä—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏</h2>

            <div class="tips">
                <div class="tip">
                    <div class="tip-ico">‚ö°</div>
                    <div class="tip-text">
                        <div class="tip-title">Enter</div>
                        <div class="tip-desc">–ú–æ–∂–Ω–æ –Ω–∞–∂–∞—Ç—å Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏.</div>
                    </div>
                </div>
                <div class="tip">
                    <div class="tip-ico">üåç</div>
                    <div class="tip-text">
                        <div class="tip-title">RU/EN</div>
                        <div class="tip-desc">–ú–æ—Å–∫–≤–∞ / Moscow ‚Äî –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç.</div>
                    </div>
                </div>
                <div class="tip">
                    <div class="tip-ico">‚≠ê</div>
                    <div class="tip-text">
                        <div class="tip-title">–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –≥–æ—Ä–æ–¥</div>
                        <div class="tip-desc">–û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ–≥–æ–¥—É –¥–ª—è –≥–æ—Ä–æ–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.</div>
                    </div>
                </div>
            </div>

            <div class="mini">
                <div class="mini-card">
                    <div class="mini-num">2</div>
                    <div class="mini-text">—Ä–µ–∂–∏–º–∞</div>
                </div>
                <div class="mini-card">
                    <div class="mini-num">5</div>
                    <div class="mini-text">–¥–Ω–µ–π</div>
                </div>
                <div class="mini-card">
                    <div class="mini-num">‚àû</div>
                    <div class="mini-text">–≥–æ—Ä–æ–¥–æ–≤</div>
                </div>
            </div>
        </section>
    </div>
</main>

<footer class="footer">
    <div class="container footer-inner">
        <p>¬© 2025 Weather Forecast ‚Ä¢ –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
        <p class="footer-muted">Made with ‚òÅÔ∏è &amp; ‚òÄÔ∏è</p>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const titleSpans = document.querySelectorAll('#animated-title span');
        titleSpans.forEach((span, idx) => {
            span.style.opacity = '0';
            span.style.transition = 'opacity 0.4s ease';
            setTimeout(() => span.style.opacity = '1', idx * 70);
        });

        const input = document.getElementById('city-input');
        const clearBtn = document.getElementById('clear-btn');
        const hint = document.getElementById('input-hint');

        const sync = () => {
            const has = input.value.trim().length > 0;
            clearBtn.style.display = has ? 'grid' : 'none';
            hint.style.display = has ? 'block' : 'none';
        };

        input.addEventListener('input', sync);
        clearBtn.addEventListener('click', () => {
            input.value = '';
            sync();
            input.focus();
        });

        sync();
    });
</script>
</body>
</html>