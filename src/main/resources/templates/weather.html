<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>‚õÖWeather App ‚õÖ</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">
    <link rel="stylesheet" type="text/css" href="/weather.css">
</head>
<body>

<header class="header">
    <a href="/home" class="btn-return">‚¨ÖÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>

    <h1 class="title" id="animated-title">
        <span>W</span><span>e</span><span>a</span><span>t</span><span>h</span><span>e</span><span>r</span>
        <span>F</span><span>o</span><span>r</span><span>e</span><span>c</span><span>a</span><span>s</span><span>t</span>
    </h1>

    <form th:action="@{/logout}" method="post" class="logout-form">
        <button type="submit" class="btn-fact">‚ï∞‚îà‚û§üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
    </form>
</header>

<div class="container">
    <div class="card">
        <div class="card-body">
            <h1 class="card-title">Weather App</h1>
            <form method="get" id="weather-form">
                <div class="form-group input-wrapper" style="position:relative;">
                    <input type="text" class="form-control" name="city" id="city-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞" required autocomplete="off">
                    <button type="button" id="clear-btn" title="–û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ" style="
                        position: absolute;
                        right: 12px;
                        top: 50%;
                        transform: translateY(-50%);
                        background: transparent;
                        border: none;
                        font-size: 1.2rem;
                        cursor: pointer;
                        color: #555;
                        display: none;">&times;</button>
                    <div id="input-hint" style="margin-top:5px; font-size:0.9rem; color:#ddd; font-style:italic; display:none;">
                        –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
                    </div>
                </div>
                <div class="btn-group" role="group">
                    <button formaction="/weather" type="submit" class="btn btn-primary">‚òÅÔ∏è –£–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É</button>
                    <button formaction="/weather/forecast" type="submit" class="btn btn-info">üìÖ –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 5 –¥–Ω–µ–π</button>
                </div>
            </form>

            <form action="/weather/saved/data" method="get" style="margin-top:1rem;">
                <button type="submit" class="btn btn-primary">
                    üìç –ü–æ–≥–æ–¥–∞ –≤ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–º –≥–æ—Ä–æ–¥–µ
                </button>
            </form>
        </div>
    </div>
</div>

<footer class="footer">
    <p>&copy; 2025 Weather Forecast. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const titleSpans = document.querySelectorAll('#animated-title span');
        titleSpans.forEach((span, idx) => {
            span.style.opacity = '0';
            span.style.transition = 'opacity 0.4s ease';
            setTimeout(() => {
                span.style.opacity = '1';
            }, idx * 100);
        });

        const input = document.getElementById('city-input');
        const clearBtn = document.getElementById('clear-btn');
        const hint = document.getElementById('input-hint');

        input.addEventListener('input', () => {
            if(input.value.length > 0){
                clearBtn.style.display = 'block';
                hint.style.display = 'block';
            } else {
                clearBtn.style.display = 'none';
                hint.style.display = 'none';
            }
        });

        clearBtn.addEventListener('click', () => {
            input.value = '';
            clearBtn.style.display = 'none';
            hint.style.display = 'none';
            input.focus();
        });
    });
</script>

</body>
</html>