<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–í—Ö–æ–¥ ‚Ä¢ WeatherForecast</title>
    <link rel="stylesheet" href="/login.css" />
</head>
<body>
<div class="bg"></div>
<div class="noise"></div>

<header class="header">
    <div class="brand">
        <div class="logo" aria-hidden="true">WF</div>
        <div class="brand-text">
            <div class="brand-title">WeatherForecast</div>
            <div class="brand-subtitle">–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º üëã</div>
        </div>
    </div>
</header>

<main class="main-content">
    <section class="card">
        <div class="card-head">
            <h1>–í—Ö–æ–¥</h1>
            <p class="subtitle">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.</p>
        </div>

        <form id="login-form" action="/login" method="post" novalidate>
            <div class="field">
                <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                <div class="control">
                    <span class="icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M20 21a8 8 0 0 0-16 0" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M12 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </span>
                    <input type="text" id="username" name="username" required minlength="3"
                           placeholder="–í–∞—à username" autocomplete="username" />
                </div>
                <small class="hint">–ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞</small>
            </div>

            <div class="field">
                <label for="password">–ü–∞—Ä–æ–ª—å</label>
                <div class="control">
                    <span class="icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" fill="none">
                            <path d="M7 11V8a5 5 0 0 1 10 0v3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M6 11h12v10H6V11Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        </svg>
                    </span>
                    <input type="password" id="password" name="password" required minlength="6"
                           placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å" autocomplete="current-password" />
                    <button class="ghost" type="button" id="togglePass" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å">
                        –ü–æ–∫–∞–∑–∞—Ç—å
                    </button>
                </div>
                <small class="hint">–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</small>
            </div>

            <button class="primary" type="submit">
                <span>–í–æ–π—Ç–∏</span>
                <span class="btn-glow" aria-hidden="true"></span>
            </button>

            <p class="auth-footer">
                –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="/register">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
            </p>

            <p id="login-error" class="msg" role="status" aria-live="polite"></p>
        </form>
    </section>
</main>

<footer class="footer">
    <p>¬© 2026 Weather Forecast ‚Ä¢ –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
</footer>

<script>
    const form = document.getElementById('login-form');
    const msg = document.getElementById('login-error');

    const togglePass = document.getElementById('togglePass');
    const passInput = document.getElementById('password');

    togglePass.addEventListener('click', () => {
        const isPassword = passInput.type === 'password';
        passInput.type = isPassword ? 'text' : 'password';
        togglePass.textContent = isPassword ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å';
    });

    function validateInput(input) {
        if (!input.checkValidity()) {
            input.classList.add('error');
            return false;
        }
        input.classList.remove('error');
        return true;
    }

    form.addEventListener('input', (e) => {
        if (e.target.matches('input')) validateInput(e.target);
        msg.textContent = '';
        msg.className = 'msg';
    });

    form.addEventListener('submit', (e) => {
        const inputs = Array.from(form.querySelectorAll('input'));
        let valid = true;

        inputs.forEach(input => {
            if (!validateInput(input)) valid = false;
        });

        if (!valid) {
            e.preventDefault();
            msg.className = 'msg error';
            msg.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ.';
        }
    });
</script>
</body>
</html>