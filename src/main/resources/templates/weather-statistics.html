<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>WeatherForecast ‚Ä¢ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">
    <link rel="stylesheet" type="text/css" href="/weather-statistics.css">
</head>
<body>
<div class="bg"></div>
<div class="noise"></div>

<header class="header">
    <div class="container header-inner">
        <a href="/view-weather" class="chip">
            <span class="chip-ico">‚¨ÖÔ∏è</span>
            <span>–ù–∞–∑–∞–¥</span>
        </a>

        <div class="brand">
            <div class="logo" aria-hidden="true">WF</div>
            <div class="brand-text">
                <div class="brand-title" id="animated-title">
                    <span>W</span><span>e</span><span>a</span><span>t</span><span>h</span><span>e</span><span>r</span>
                    <span>F</span><span>o</span><span>r</span><span>e</span><span>c</span><span>a</span><span>s</span><span>t</span>
                </div>
                <div class="brand-subtitle">–°–≤–æ–¥–∫–∞ –ø–æ —Ç–µ–∫—É—â–µ–π –ø–æ–≥–æ–¥–µ</div>
            </div>
        </div>

        <form th:action="@{/logout}" method="post" class="logout-form">
            <button type="submit" class="chip danger">
                <span class="chip-ico">üö™</span>
                <span>–í—ã–π—Ç–∏</span>
            </button>
        </form>
    </div>
</header>

<main class="main">
    <div class="container grid">
        <section class="card hero">
            <div class="hero-head">
                <div class="badge">üìç –°–µ–π—á–∞—Å</div>
                <div>
                    <h1 class="hero-title">
                        <span th:text="${city}">–ì–æ—Ä–æ–¥</span>,
                        <span th:text="${country}">Country</span>
                    </h1>
                    <p class="hero-subtitle">
                        <span th:text="${weatherDescription}">–û–ø–∏—Å–∞–Ω–∏–µ</span>
                    </p>
                </div>
            </div>

            <div class="summary">
                <div class="icon-wrap">
                    <span th:class="'wi ' + ${weatherIcon} + ' weather-icon'"></span>
                </div>

                <div class="stats">
                    <div class="stat">
                        <div class="stat-label">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
                        <div class="stat-value">
                            <span th:text="${temperature}">0</span><span class="unit">¬∞C</span>
                        </div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">–í–ª–∞–∂–Ω–æ—Å—Ç—å</div>
                        <div class="stat-value">
                            <span th:text="${humidity}">0</span><span class="unit">%</span>
                        </div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">–í–µ—Ç–µ—Ä</div>
                        <div class="stat-value">
                            <span th:text="${windSpeed}">0</span><span class="unit">–º/—Å</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="actions">
                <form action="/council-advice" method="get" class="action-form">
                    <input type="hidden" name="city" th:value="${city}">
                    <button type="submit" class="btn info">
                        <span class="btn-ico">üëï</span>
                        <span>–ü–æ–¥–æ–±—Ä–∞—Ç—å –æ–¥–µ–∂–¥—É</span>
                    </button>
                </form>

                <form action="/save-city" method="post" class="action-form">
                    <input type="hidden" name="city" th:value="${city}">
                    <button type="submit" class="btn primary">
                        <span class="btn-ico">‚≠ê</span>
                        <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥–æ—Ä–æ–¥</span>
                    </button>
                </form>
            </div>

            <div th:if="${error}" class="alert">
                <div class="alert-title">–û—à–∏–±–∫–∞</div>
                <div class="alert-text" th:text="${error}"></div>
            </div>
        </section>

        <section class="card side">
            <h2 class="side-title">–î–µ–π—Å—Ç–≤–∏—è</h2>

            <div class="tiles">
                <a href="/home" class="tile">
                    <div class="tile-icon">üè†</div>
                    <div class="tile-text">
                        <div class="tile-title">–ì–ª–∞–≤–Ω–∞—è</div>
                        <div class="tile-desc">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –º–µ–Ω—é</div>
                    </div>
                    <div class="tile-cta">–û—Ç–∫—Ä—ã—Ç—å ‚Üí</div>
                </a>

                <a href="/view-weather" class="tile">
                    <div class="tile-icon">üîé</div>
                    <div class="tile-text">
                        <div class="tile-title">–ù–æ–≤—ã–π –ø–æ–∏—Å–∫</div>
                        <div class="tile-desc">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥</div>
                    </div>
                    <div class="tile-cta">–û—Ç–∫—Ä—ã—Ç—å ‚Üí</div>
                </a>

                <form th:action="@{/logout}" method="post" class="tile-form">
                    <button type="submit" class="tile danger">
                        <div class="tile-icon">üö™</div>
                        <div class="tile-text">
                            <div class="tile-title">–í—ã—Ö–æ–¥</div>
                            <div class="tile-desc">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Å—Å–∏—é</div>
                        </div>
                        <div class="tile-cta">–í—ã–π—Ç–∏ ‚Üí</div>
                    </button>
                </form>
            </div>

            <div class="mini">
                <div class="mini-card">
                    <div class="mini-num">¬∞C</div>
                    <div class="mini-text">—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
                </div>
                <div class="mini-card">
                    <div class="mini-num">%</div>
                    <div class="mini-text">–≤–ª–∞–∂–Ω–æ—Å—Ç—å</div>
                </div>
                <div class="mini-card">
                    <div class="mini-num">–º/—Å</div>
                    <div class="mini-text">–≤–µ—Ç–µ—Ä</div>
                </div>
            </div>
        </section>
    </div>
</main>

<footer class="footer">
    <div class="container footer-inner">
        <p>¬© 2026 Weather Forecast ‚Ä¢ –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã</p>
        <p class="footer-muted">Made with ‚òÅÔ∏è &amp; ‚òÄÔ∏è</p>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const titleSpans = document.querySelectorAll('#animated-title span');
        titleSpans.forEach((span, idx) => {
            span.style.opacity = '0';
            span.style.transition = 'opacity 0.4s ease';
            setTimeout(() => span.style.opacity = '1', idx * 70);
        });
    });
</script>
</body>
</html>