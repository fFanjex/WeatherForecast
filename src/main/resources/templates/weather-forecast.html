<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Weather Forecast</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css" />
    <link rel="stylesheet" href="/weather-forecast.css" />
</head>
<body>

<header class="header">
    <div class="left-controls">
        <a href="/home" class="btn-return">‚¨ÖÔ∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>

    <h1 class="title" id="animated-title">
        <span>W</span><span>e</span><span>a</span><span>t</span><span>h</span><span>e</span><span>r</span>
        <span>F</span><span>o</span><span>r</span><span>e</span><span>c</span><span>a</span><span>s</span><span>t</span>
    </h1>

    <div class="right-controls">
        <form th:action="@{/logout}" method="post" class="logout-form">
            <button type="submit" class="btn-fact">‚ï∞‚îà‚û§üö™ –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</button>
        </form>
    </div>
</header>

<div class="container">
    <h2 class="text-white mb-4" th:text="'–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ ' + ${currentDate} + ' –≤ –≥–æ—Ä–æ–¥–µ ' + ${city}"></h2>

    <div th:if="${forecastList}">
        <table class="table table-dark table-striped">
            <thead>
            <tr>
                <th>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è</th>
                <th>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ (–º/—Å)</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="forecast : ${forecastList}">
                <td th:text="${forecast.dtTxt}"></td>
                <td th:text="${forecast.main.temp}"></td>
                <td th:text="${forecast.weather[0].description}"></td>
                <td th:text="${forecast.wind.speed}"></td>
            </tr>
            </tbody>
        </table>

        <nav>
            <ul class="pagination justify-content-center">
                <li class="page-item" th:classappend="${currentPage == 1} ? 'disabled'">
                    <a class="page-link" th:href="@{/weather/forecast(city=${city}, page=${currentPage - 1})}">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</a>
                </li>
                <li class="page-item" th:classappend="${currentPage == totalPages} ? 'disabled'">
                    <a class="page-link" th:href="@{/weather/forecast(city=${city}, page=${currentPage + 1})}">–í–ø–µ—Ä—ë–¥ ‚û°Ô∏è</a>
                </li>
            </ul>
        </nav>
    </div>

    <div th:if="${error}" class="alert alert-danger">
        <p th:text="${error}"></p>
    </div>
</div>

<footer class="footer">
    <p>&copy; 2025 Weather Forecast. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const spans = document.querySelectorAll('#animated-title span');
        spans.forEach((span, idx) => {
            setTimeout(() => {
                span.classList.add('visible');
            }, idx * 100);
        });
    });
</script>

</body>
</html>